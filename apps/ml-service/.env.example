# FashionDeck ML Service Environment Variables
# Copy this file to .env and fill in your actual values

# ============================================
# Server Configuration
# ============================================

PYTHONUNBUFFERED=1
PORT=8000
LOG_LEVEL=DEBUG

# ============================================
# Database Configuration
# ============================================

DATABASE_URL=postgresql://fashiondeck:fashiondeck_dev_password@localhost:5432/fashiondeck

# ============================================
# Redis Configuration
# ============================================

REDIS_URL=redis://localhost:6379

# ============================================
# LLM API Keys (REQUIRED)
# ============================================

# OpenAI API Key (for GPT-4o-mini)
# Used for: Prompt parsing and outfit planning
OPENAI_API_KEY=sk-your-openai-api-key-here
OPENAI_MODEL=gpt-4o-mini
OPENAI_MAX_TOKENS=1000
OPENAI_TEMPERATURE=0.7

# Anthropic API Key (for Claude 3 Haiku)
# Used for: Outfit coherence scoring
ANTHROPIC_API_KEY=sk-ant-your-anthropic-api-key-here
ANTHROPIC_MODEL=claude-3-haiku-20240307
ANTHROPIC_MAX_TOKENS=1000

# ============================================
# CLIP Model Configuration
# ============================================

# Model to use for embeddings
CLIP_MODEL=ViT-B/32
CLIP_DEVICE=cpu

# Model cache directory
MODEL_CACHE_DIR=/app/models

# ============================================
# Embedding Configuration
# ============================================

EMBEDDING_DIMENSION=512
BATCH_SIZE=32

# ============================================
# Caching Configuration
# ============================================

# Cache parsed prompts for 24 hours
CACHE_TTL_PROMPTS=86400

# Cache aesthetic patterns indefinitely
CACHE_TTL_AESTHETICS=0

# Cache embeddings permanently (in database)
CACHE_EMBEDDINGS=true

# ============================================
# Optional: Monitoring
# ============================================

# Sentry DSN (optional)
# SENTRY_DSN=https://xxx@xxx.ingest.sentry.io/xxx

# Enable request timing logs
ENABLE_TIMING_LOGS=true
